{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":110,"column":0,"index":3213}}],"key":"7kvm5yrOpz4NYiDi6sn4qxa8DVQ="}},{"name":"../../handlersRegistry","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":3,"column":0,"index":87},"end":{"line":3,"column":57,"index":144}}],"key":"pP2b75vhlUpyLI3+QI+xq/8ysKA="}},{"name":"../../../RNGestureHandlerModule","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":4,"column":0,"index":145},"end":{"line":4,"column":69,"index":214}}],"key":"HKrZDPbCxSQpkTuwNBEzcur/N4c="}},{"name":"../../utils","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":5,"column":0,"index":215},"end":{"line":5,"column":68,"index":283}}],"key":"dxL+BeUilKexbwMi0xaswBTAv3A="}},{"name":"../../../ActionType","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":7,"column":0,"index":341},"end":{"line":7,"column":49,"index":390}}],"key":"sgEihjgVIYW2QtFHH02oVAgt8OA="}},{"name":"react-native","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":8,"column":0,"index":391},"end":{"line":8,"column":40,"index":431}}],"key":"XEo4Z+Aarw9Y7I7ZLBt66vGLAVQ="}},{"name":"../../../ghQueueMicrotask","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":10,"column":0,"index":514},"end":{"line":10,"column":61,"index":575}}],"key":"hrYLKIqWIfT+pKNINxKM7/Pt38o="}},{"name":"./utils","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":12,"column":0,"index":641},"end":{"line":16,"column":17,"index":747}}],"key":"FH4oXkS7WdR5kG0v+Eku8TWcu80="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = require(_dependencyMap[0]);\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.attachHandlers = attachHandlers;\n  var _handlersRegistry = require(_dependencyMap[1]);\n  var _RNGestureHandlerModule = _interopRequireDefault(require(_dependencyMap[2]));\n  var _utils = require(_dependencyMap[3]);\n  var _ActionType = require(_dependencyMap[4]);\n  var _reactNative = require(_dependencyMap[5]);\n  var _ghQueueMicrotask = require(_dependencyMap[6]);\n  var _utils2 = require(_dependencyMap[7]);\n  function attachHandlers(_ref) {\n    var preparedGesture = _ref.preparedGesture,\n      gestureConfig = _ref.gestureConfig,\n      gesturesToAttach = _ref.gesturesToAttach,\n      viewTag = _ref.viewTag,\n      webEventHandlersRef = _ref.webEventHandlersRef;\n    gestureConfig.initialize();\n\n    // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      gestureConfig.prepare();\n    });\n    for (var handler of gesturesToAttach) {\n      (0, _utils2.checkGestureCallbacksForWorklets)(handler);\n      _RNGestureHandlerModule.default.createGestureHandler(handler.handlerName, handler.handlerTag, (0, _utils.filterConfig)(handler.config, _utils2.ALLOWED_PROPS));\n      (0, _handlersRegistry.registerHandler)(handler.handlerTag, handler, handler.config.testId);\n    }\n\n    // Use queueMicrotask to extract handlerTags, because all refs should be initialized\n    // when it's ran\n    (0, _ghQueueMicrotask.ghQueueMicrotask)(() => {\n      if (!preparedGesture.isMounted) {\n        return;\n      }\n      for (var _handler of gesturesToAttach) {\n        _RNGestureHandlerModule.default.updateGestureHandler(_handler.handlerTag, (0, _utils.filterConfig)(_handler.config, _utils2.ALLOWED_PROPS, (0, _utils2.extractGestureRelations)(_handler)));\n      }\n      (0, _utils.scheduleFlushOperations)();\n    });\n    for (var gesture of gesturesToAttach) {\n      var actionType = gesture.shouldUseReanimated ? _ActionType.ActionType.REANIMATED_WORKLET : _ActionType.ActionType.JS_FUNCTION_NEW_API;\n      {\n        _RNGestureHandlerModule.default.attachGestureHandler(gesture.handlerTag, viewTag, actionType);\n      }\n    }\n    preparedGesture.attachedGestures = gesturesToAttach;\n    if (preparedGesture.animatedHandlers) {\n      var isAnimatedGesture = g => g.shouldUseReanimated;\n      preparedGesture.animatedHandlers.value = gesturesToAttach.filter(isAnimatedGesture).map(g => g.handlers);\n    }\n  }\n});","lineCount":59,"map":[[7,2,3,0],[7,6,3,0,"_handlersRegistry"],[7,23,3,0],[7,26,3,0,"require"],[7,33,3,0],[7,34,3,0,"_dependencyMap"],[7,48,3,0],[8,2,4,0],[8,6,4,0,"_RNGestureHandlerModule"],[8,29,4,0],[8,32,4,0,"_interopRequireDefault"],[8,54,4,0],[8,55,4,0,"require"],[8,62,4,0],[8,63,4,0,"_dependencyMap"],[8,77,4,0],[9,2,5,0],[9,6,5,0,"_utils"],[9,12,5,0],[9,15,5,0,"require"],[9,22,5,0],[9,23,5,0,"_dependencyMap"],[9,37,5,0],[10,2,7,0],[10,6,7,0,"_ActionType"],[10,17,7,0],[10,20,7,0,"require"],[10,27,7,0],[10,28,7,0,"_dependencyMap"],[10,42,7,0],[11,2,8,0],[11,6,8,0,"_reactNative"],[11,18,8,0],[11,21,8,0,"require"],[11,28,8,0],[11,29,8,0,"_dependencyMap"],[11,43,8,0],[12,2,10,0],[12,6,10,0,"_ghQueueMicrotask"],[12,23,10,0],[12,26,10,0,"require"],[12,33,10,0],[12,34,10,0,"_dependencyMap"],[12,48,10,0],[13,2,12,0],[13,6,12,0,"_utils2"],[13,13,12,0],[13,16,12,0,"require"],[13,23,12,0],[13,24,12,0,"_dependencyMap"],[13,38,12,0],[14,2,26,7],[14,11,26,16,"attachHandlers"],[14,25,26,30,"attachHandlers"],[14,26,26,30,"_ref"],[14,30,26,30],[14,32,32,25],[15,4,32,25],[15,8,27,2,"preparedGesture"],[15,23,27,17],[15,26,27,17,"_ref"],[15,30,27,17],[15,31,27,2,"preparedGesture"],[15,46,27,17],[16,6,28,2,"gestureConfig"],[16,19,28,15],[16,22,28,15,"_ref"],[16,26,28,15],[16,27,28,2,"gestureConfig"],[16,40,28,15],[17,6,29,2,"gesturesToAttach"],[17,22,29,18],[17,25,29,18,"_ref"],[17,29,29,18],[17,30,29,2,"gesturesToAttach"],[17,46,29,18],[18,6,30,2,"viewTag"],[18,13,30,9],[18,16,30,9,"_ref"],[18,20,30,9],[18,21,30,2,"viewTag"],[18,28,30,9],[19,6,31,2,"webEventHandlersRef"],[19,25,31,21],[19,28,31,21,"_ref"],[19,32,31,21],[19,33,31,2,"webEventHandlersRef"],[19,52,31,21],[20,4,33,2,"gestureConfig"],[20,17,33,15],[20,18,33,16,"initialize"],[20,28,33,26],[20,29,33,27],[20,30,33,28],[22,4,35,2],[23,4,36,2],[24,4,37,2],[24,8,37,2,"ghQueueMicrotask"],[24,42,37,18],[24,44,37,19],[24,50,37,25],[25,6,38,4],[25,10,38,8],[25,11,38,9,"preparedGesture"],[25,26,38,24],[25,27,38,25,"isMounted"],[25,36,38,34],[25,38,38,36],[26,8,39,6],[27,6,40,4],[28,6,41,4,"gestureConfig"],[28,19,41,17],[28,20,41,18,"prepare"],[28,27,41,25],[28,28,41,26],[28,29,41,27],[29,4,42,2],[29,5,42,3],[29,6,42,4],[30,4,44,2],[30,9,44,7],[30,13,44,13,"handler"],[30,20,44,20],[30,24,44,24,"gesturesToAttach"],[30,40,44,40],[30,42,44,42],[31,6,45,4],[31,10,45,4,"checkGestureCallbacksForWorklets"],[31,50,45,36],[31,52,45,37,"handler"],[31,59,45,44],[31,60,45,45],[32,6,46,4,"RNGestureHandlerModule"],[32,37,46,26],[32,38,46,27,"createGestureHandler"],[32,58,46,47],[32,59,47,6,"handler"],[32,66,47,13],[32,67,47,14,"handlerName"],[32,78,47,25],[32,80,48,6,"handler"],[32,87,48,13],[32,88,48,14,"handlerTag"],[32,98,48,24],[32,100,49,6],[32,104,49,6,"filterConfig"],[32,123,49,18],[32,125,49,19,"handler"],[32,132,49,26],[32,133,49,27,"config"],[32,139,49,33],[32,141,49,35,"ALLOWED_PROPS"],[32,162,49,48],[32,163,50,4],[32,164,50,5],[33,6,52,4],[33,10,52,4,"registerHandler"],[33,43,52,19],[33,45,52,20,"handler"],[33,52,52,27],[33,53,52,28,"handlerTag"],[33,63,52,38],[33,65,52,40,"handler"],[33,72,52,47],[33,74,52,49,"handler"],[33,81,52,56],[33,82,52,57,"config"],[33,88,52,63],[33,89,52,64,"testId"],[33,95,52,70],[33,96,52,71],[34,4,53,2],[36,4,55,2],[37,4,56,2],[38,4,57,2],[38,8,57,2,"ghQueueMicrotask"],[38,42,57,18],[38,44,57,19],[38,50,57,25],[39,6,58,4],[39,10,58,8],[39,11,58,9,"preparedGesture"],[39,26,58,24],[39,27,58,25,"isMounted"],[39,36,58,34],[39,38,58,36],[40,8,59,6],[41,6,60,4],[42,6,61,4],[42,11,61,9],[42,15,61,15,"handler"],[42,23,61,22],[42,27,61,26,"gesturesToAttach"],[42,43,61,42],[42,45,61,44],[43,8,62,6,"RNGestureHandlerModule"],[43,39,62,28],[43,40,62,29,"updateGestureHandler"],[43,60,62,49],[43,61,63,8,"handler"],[43,69,63,15],[43,70,63,16,"handlerTag"],[43,80,63,26],[43,82,64,8],[43,86,64,8,"filterConfig"],[43,105,64,20],[43,107,65,10,"handler"],[43,115,65,17],[43,116,65,18,"config"],[43,122,65,24],[43,124,66,10,"ALLOWED_PROPS"],[43,145,66,23],[43,147,67,10],[43,151,67,10,"extractGestureRelations"],[43,182,67,33],[43,184,67,34,"handler"],[43,192,67,41],[43,193,68,8],[43,194,69,6],[43,195,69,7],[44,6,70,4],[45,6,72,4],[45,10,72,4,"scheduleFlushOperations"],[45,40,72,27],[45,42,72,28],[45,43,72,29],[46,4,73,2],[46,5,73,3],[46,6,73,4],[47,4,75,2],[47,9,75,7],[47,13,75,13,"gesture"],[47,20,75,20],[47,24,75,24,"gesturesToAttach"],[47,40,75,40],[47,42,75,42],[48,6,76,4],[48,10,76,10,"actionType"],[48,20,76,20],[48,23,76,23,"gesture"],[48,30,76,30],[48,31,76,31,"shouldUseReanimated"],[48,50,76,50],[48,53,77,8,"ActionType"],[48,75,77,18],[48,76,77,19,"REANIMATED_WORKLET"],[48,94,77,37],[48,97,78,8,"ActionType"],[48,119,78,18],[48,120,78,19,"JS_FUNCTION_NEW_API"],[48,139,78,38],[49,6,89,11],[50,8,90,6,"RNGestureHandlerModule"],[50,39,90,28],[50,40,90,29,"attachGestureHandler"],[50,60,90,49],[50,61,91,8,"gesture"],[50,68,91,15],[50,69,91,16,"handlerTag"],[50,79,91,26],[50,81,92,8,"viewTag"],[50,88,92,15],[50,90,93,8,"actionType"],[50,100,94,6],[50,101,94,7],[51,6,95,4],[52,4,96,2],[53,4,98,2,"preparedGesture"],[53,19,98,17],[53,20,98,18,"attachedGestures"],[53,36,98,34],[53,39,98,37,"gesturesToAttach"],[53,55,98,53],[54,4,100,2],[54,8,100,6,"preparedGesture"],[54,23,100,21],[54,24,100,22,"animatedHandlers"],[54,40,100,38],[54,42,100,40],[55,6,101,4],[55,10,101,10,"isAnimatedGesture"],[55,27,101,27],[55,30,101,31,"g"],[55,31,101,45],[55,35,101,50,"g"],[55,36,101,51],[55,37,101,52,"shouldUseReanimated"],[55,56,101,71],[56,6,103,4,"preparedGesture"],[56,21,103,19],[56,22,103,20,"animatedHandlers"],[56,38,103,36],[56,39,103,37,"value"],[56,44,103,42],[56,47,103,45,"gesturesToAttach"],[56,63,103,61],[56,64,104,7,"filter"],[56,70,104,13],[56,71,104,14,"isAnimatedGesture"],[56,88,104,31],[56,89,104,32],[56,90,105,7,"map"],[56,93,105,10],[56,94,105,12,"g"],[56,95,105,13],[56,99,105,18,"g"],[56,100,105,19],[56,101,105,20,"handlers"],[56,109,105,28],[56,110,107,7],[57,4,108,2],[58,2,109,0],[59,0,109,1],[59,3]],"functionMap":{"names":["<global>","attachHandlers","ghQueueMicrotask$argument_0","isAnimatedGesture","gesturesToAttach.filter.map$argument_0"],"mappings":"AAA;OCyB;mBCW;GDK;mBCe;GDgB;8BE4B,yCF;WGI,iBH;CDI"}},"type":"js/module"}]}