{"dependencies":[{"name":"@babel/runtime/helpers/classCallCheck","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":95,"column":45,"index":4300}}],"key":"ohGilxjVqjyE1GooDVDt9OYg9x0="}},{"name":"@babel/runtime/helpers/createClass","data":{"asyncType":null,"exportNames":["*"],"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":95,"column":45,"index":4300}}],"key":"V6GYoXnblvuuGHJNMy7MHyaunsU="}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _classCallCheck = require(_dependencyMap[0]);\n  var _createClass = require(_dependencyMap[1]);\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.WebSocketFactory = undefined;\n  var WebSocketFactory = /*#__PURE__*/function () {\n    function WebSocketFactory() {\n      _classCallCheck(this, WebSocketFactory);\n    }\n    return _createClass(WebSocketFactory, null, [{\n      key: \"detectEnvironment\",\n      value: function detectEnvironment() {\n        var _a;\n        if (typeof WebSocket !== 'undefined') {\n          return {\n            type: 'native',\n            constructor: WebSocket\n          };\n        }\n        if (typeof globalThis !== 'undefined' && typeof globalThis.WebSocket !== 'undefined') {\n          return {\n            type: 'native',\n            constructor: globalThis.WebSocket\n          };\n        }\n        if (typeof global !== 'undefined' && typeof global.WebSocket !== 'undefined') {\n          return {\n            type: 'native',\n            constructor: global.WebSocket\n          };\n        }\n        if (typeof globalThis !== 'undefined' && typeof globalThis.WebSocketPair !== 'undefined' && typeof globalThis.WebSocket === 'undefined') {\n          return {\n            type: 'cloudflare',\n            error: 'Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.',\n            workaround: 'Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime.'\n          };\n        }\n        if (typeof globalThis !== 'undefined' && globalThis.EdgeRuntime || typeof navigator !== 'undefined' && ((_a = navigator.userAgent) === null || _a === undefined ? undefined : _a.includes('Vercel-Edge'))) {\n          return {\n            type: 'unsupported',\n            error: 'Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.',\n            workaround: 'Use serverless functions or a different deployment target for WebSocket functionality.'\n          };\n        }\n        if (typeof process !== 'undefined' && process.versions && process.versions.node) {\n          var nodeVersion = parseInt(process.versions.node.split('.')[0]);\n          // Node.js 22+ should have native WebSocket\n          if (nodeVersion >= 22) {\n            // Check if native WebSocket is available (should be in Node.js 22+)\n            if (typeof globalThis.WebSocket !== 'undefined') {\n              return {\n                type: 'native',\n                constructor: globalThis.WebSocket\n              };\n            }\n            // If not available, user needs to provide it\n            return {\n              type: 'unsupported',\n              error: `Node.js ${nodeVersion} detected but native WebSocket not found.`,\n              workaround: 'Provide a WebSocket implementation via the transport option.'\n            };\n          }\n          // Node.js < 22 doesn't have native WebSocket\n          return {\n            type: 'unsupported',\n            error: `Node.js ${nodeVersion} detected without native WebSocket support.`,\n            workaround: \"For Node.js < 22, install \\\"ws\\\" package and provide it via the transport option:\\nimport ws from \\\"ws\\\"\\nnew RealtimeClient(url, { transport: ws })\"\n          };\n        }\n        return {\n          type: 'unsupported',\n          error: 'Unknown JavaScript runtime without WebSocket support.',\n          workaround: \"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation.\"\n        };\n      }\n    }, {\n      key: \"getWebSocketConstructor\",\n      value: function getWebSocketConstructor() {\n        var env = this.detectEnvironment();\n        if (env.constructor) {\n          return env.constructor;\n        }\n        var errorMessage = env.error || 'WebSocket not supported in this environment.';\n        if (env.workaround) {\n          errorMessage += `\\n\\nSuggested solution: ${env.workaround}`;\n        }\n        throw new Error(errorMessage);\n      }\n    }, {\n      key: \"createWebSocket\",\n      value: function createWebSocket(url, protocols) {\n        var WS = this.getWebSocketConstructor();\n        return new WS(url, protocols);\n      }\n    }, {\n      key: \"isWebSocketSupported\",\n      value: function isWebSocketSupported() {\n        try {\n          var env = this.detectEnvironment();\n          return env.type === 'native' || env.type === 'ws';\n        } catch (_a) {\n          return false;\n        }\n      }\n    }]);\n  }();\n  exports.WebSocketFactory = WebSocketFactory;\n  exports.default = WebSocketFactory;\n});","lineCount":114,"map":[[2,2,1,0],[2,14,1,12],[4,2,1,13],[4,6,1,13,"_classCallCheck"],[4,21,1,13],[4,24,1,13,"require"],[4,31,1,13],[4,32,1,13,"_dependencyMap"],[4,46,1,13],[5,2,1,13],[5,6,1,13,"_createClass"],[5,18,1,13],[5,21,1,13,"require"],[5,28,1,13],[5,29,1,13,"_dependencyMap"],[5,43,1,13],[6,2,2,0,"Object"],[6,8,2,6],[6,9,2,7,"defineProperty"],[6,23,2,21],[6,24,2,22,"exports"],[6,31,2,29],[6,33,2,31],[6,45,2,43],[6,47,2,45],[7,4,2,47,"value"],[7,9,2,52],[7,11,2,54],[8,2,2,59],[8,3,2,60],[8,4,2,61],[9,2,3,0,"exports"],[9,9,3,7],[9,10,3,8,"WebSocketFactory"],[9,26,3,24],[9,29,3,24,"undefined"],[9,38,3,33],[10,2,3,34],[10,6,4,6,"WebSocketFactory"],[10,22,4,22],[11,4,4,22],[11,13,4,22,"WebSocketFactory"],[11,30,4,22],[12,6,4,22,"_classCallCheck"],[12,21,4,22],[12,28,4,22,"WebSocketFactory"],[12,44,4,22],[13,4,4,22],[14,4,4,22],[14,11,4,22,"_createClass"],[14,23,4,22],[14,24,4,22,"WebSocketFactory"],[14,40,4,22],[15,6,4,22,"key"],[15,9,4,22],[16,6,4,22,"value"],[16,11,4,22],[16,13,5,4],[16,22,5,11,"detectEnvironment"],[16,39,5,28,"detectEnvironment"],[16,40,5,28],[16,42,5,31],[17,8,6,8],[17,12,6,12,"_a"],[17,14,6,14],[18,8,7,8],[18,12,7,12],[18,19,7,19,"WebSocket"],[18,28,7,28],[18,33,7,33],[18,44,7,44],[18,46,7,46],[19,10,8,12],[19,17,8,19],[20,12,8,21,"type"],[20,16,8,25],[20,18,8,27],[20,26,8,35],[21,12,8,37,"constructor"],[21,23,8,48],[21,25,8,50,"WebSocket"],[22,10,8,60],[22,11,8,61],[23,8,9,8],[24,8,10,8],[24,12,10,12],[24,19,10,19,"globalThis"],[24,29,10,29],[24,34,10,34],[24,45,10,45],[24,49,11,12],[24,56,11,19,"globalThis"],[24,66,11,29],[24,67,11,30,"WebSocket"],[24,76,11,39],[24,81,11,44],[24,92,11,55],[24,94,11,57],[25,10,12,12],[25,17,12,19],[26,12,12,21,"type"],[26,16,12,25],[26,18,12,27],[26,26,12,35],[27,12,12,37,"constructor"],[27,23,12,48],[27,25,12,50,"globalThis"],[27,35,12,60],[27,36,12,61,"WebSocket"],[28,10,12,71],[28,11,12,72],[29,8,13,8],[30,8,14,8],[30,12,14,12],[30,19,14,19,"global"],[30,25,14,25],[30,30,14,30],[30,41,14,41],[30,45,15,12],[30,52,15,19,"global"],[30,58,15,25],[30,59,15,26,"WebSocket"],[30,68,15,35],[30,73,15,40],[30,84,15,51],[30,86,15,53],[31,10,16,12],[31,17,16,19],[32,12,16,21,"type"],[32,16,16,25],[32,18,16,27],[32,26,16,35],[33,12,16,37,"constructor"],[33,23,16,48],[33,25,16,50,"global"],[33,31,16,56],[33,32,16,57,"WebSocket"],[34,10,16,67],[34,11,16,68],[35,8,17,8],[36,8,18,8],[36,12,18,12],[36,19,18,19,"globalThis"],[36,29,18,29],[36,34,18,34],[36,45,18,45],[36,49,19,12],[36,56,19,19,"globalThis"],[36,66,19,29],[36,67,19,30,"WebSocketPair"],[36,80,19,43],[36,85,19,48],[36,96,19,59],[36,100,20,12],[36,107,20,19,"globalThis"],[36,117,20,29],[36,118,20,30,"WebSocket"],[36,127,20,39],[36,132,20,44],[36,143,20,55],[36,145,20,57],[37,10,21,12],[37,17,21,19],[38,12,22,16,"type"],[38,16,22,20],[38,18,22,22],[38,30,22,34],[39,12,23,16,"error"],[39,17,23,21],[39,19,23,23],[39,108,23,112],[40,12,24,16,"workaround"],[40,22,24,26],[40,24,24,28],[41,10,25,12],[41,11,25,13],[42,8,26,8],[43,8,27,8],[43,12,27,13],[43,19,27,20,"globalThis"],[43,29,27,30],[43,34,27,35],[43,45,27,46],[43,49,27,50,"globalThis"],[43,59,27,60],[43,60,27,61,"EdgeRuntime"],[43,71,27,72],[43,75,28,13],[43,82,28,20,"navigator"],[43,91,28,29],[43,96,28,34],[43,107,28,45],[43,112,29,17],[43,113,29,18,"_a"],[43,115,29,20],[43,118,29,23,"navigator"],[43,127,29,32],[43,128,29,33,"userAgent"],[43,137,29,42],[43,143,29,48],[43,147,29,52],[43,151,29,56,"_a"],[43,153,29,58],[43,158,29,58,"undefined"],[43,167,29,69],[43,170,29,69,"undefined"],[43,179,29,69],[43,182,29,81,"_a"],[43,184,29,83],[43,185,29,84,"includes"],[43,193,29,92],[43,194,29,93],[43,207,29,106],[43,208,29,107],[43,209,29,109],[43,211,29,111],[44,10,30,12],[44,17,30,19],[45,12,31,16,"type"],[45,16,31,20],[45,18,31,22],[45,31,31,35],[46,12,32,16,"error"],[46,17,32,21],[46,19,32,23],[46,118,32,122],[47,12,33,16,"workaround"],[47,22,33,26],[47,24,33,28],[48,10,34,12],[48,11,34,13],[49,8,35,8],[50,8,36,8],[50,12,36,12],[50,19,36,19,"process"],[50,26,36,26],[50,31,36,31],[50,42,36,42],[50,46,37,12,"process"],[50,53,37,19],[50,54,37,20,"versions"],[50,62,37,28],[50,66,38,12,"process"],[50,73,38,19],[50,74,38,20,"versions"],[50,82,38,28],[50,83,38,29,"node"],[50,87,38,33],[50,89,38,35],[51,10,39,12],[51,14,39,18,"nodeVersion"],[51,25,39,29],[51,28,39,32,"parseInt"],[51,36,39,40],[51,37,39,41,"process"],[51,44,39,48],[51,45,39,49,"versions"],[51,53,39,57],[51,54,39,58,"node"],[51,58,39,62],[51,59,39,63,"split"],[51,64,39,68],[51,65,39,69],[51,68,39,72],[51,69,39,73],[51,70,39,74],[51,71,39,75],[51,72,39,76],[51,73,39,77],[52,10,40,12],[53,10,41,12],[53,14,41,16,"nodeVersion"],[53,25,41,27],[53,29,41,31],[53,31,41,33],[53,33,41,35],[54,12,42,16],[55,12,43,16],[55,16,43,20],[55,23,43,27,"globalThis"],[55,33,43,37],[55,34,43,38,"WebSocket"],[55,43,43,47],[55,48,43,52],[55,59,43,63],[55,61,43,65],[56,14,44,20],[56,21,44,27],[57,16,44,29,"type"],[57,20,44,33],[57,22,44,35],[57,30,44,43],[58,16,44,45,"constructor"],[58,27,44,56],[58,29,44,58,"globalThis"],[58,39,44,68],[58,40,44,69,"WebSocket"],[59,14,44,79],[59,15,44,80],[60,12,45,16],[61,12,46,16],[62,12,47,16],[62,19,47,23],[63,14,48,20,"type"],[63,18,48,24],[63,20,48,26],[63,33,48,39],[64,14,49,20,"error"],[64,19,49,25],[64,21,49,27],[64,32,49,38,"nodeVersion"],[64,43,49,49],[64,86,49,92],[65,14,50,20,"workaround"],[65,24,50,30],[65,26,50,32],[66,12,51,16],[66,13,51,17],[67,10,52,12],[68,10,53,12],[69,10,54,12],[69,17,54,19],[70,12,55,16,"type"],[70,16,55,20],[70,18,55,22],[70,31,55,35],[71,12,56,16,"error"],[71,17,56,21],[71,19,56,23],[71,30,56,34,"nodeVersion"],[71,41,56,45],[71,86,56,90],[72,12,57,16,"workaround"],[72,22,57,26],[73,10,60,12],[73,11,60,13],[74,8,61,8],[75,8,62,8],[75,15,62,15],[76,10,63,12,"type"],[76,14,63,16],[76,16,63,18],[76,29,63,31],[77,10,64,12,"error"],[77,15,64,17],[77,17,64,19],[77,72,64,74],[78,10,65,12,"workaround"],[78,20,65,22],[78,22,65,24],[79,8,66,8],[79,9,66,9],[80,6,67,4],[81,4,67,5],[82,6,67,5,"key"],[82,9,67,5],[83,6,67,5,"value"],[83,11,67,5],[83,13,68,4],[83,22,68,11,"getWebSocketConstructor"],[83,45,68,34,"getWebSocketConstructor"],[83,46,68,34],[83,48,68,37],[84,8,69,8],[84,12,69,14,"env"],[84,15,69,17],[84,18,69,20],[84,22,69,24],[84,23,69,25,"detectEnvironment"],[84,40,69,42],[84,41,69,43],[84,42,69,44],[85,8,70,8],[85,12,70,12,"env"],[85,15,70,15],[85,16,70,16,"constructor"],[85,27,70,27],[85,29,70,29],[86,10,71,12],[86,17,71,19,"env"],[86,20,71,22],[86,21,71,23,"constructor"],[86,32,71,34],[87,8,72,8],[88,8,73,8],[88,12,73,12,"errorMessage"],[88,24,73,24],[88,27,73,27,"env"],[88,30,73,30],[88,31,73,31,"error"],[88,36,73,36],[88,40,73,40],[88,86,73,86],[89,8,74,8],[89,12,74,12,"env"],[89,15,74,15],[89,16,74,16,"workaround"],[89,26,74,26],[89,28,74,28],[90,10,75,12,"errorMessage"],[90,22,75,24],[90,26,75,28],[90,53,75,55,"env"],[90,56,75,58],[90,57,75,59,"workaround"],[90,67,75,69],[90,69,75,71],[91,8,76,8],[92,8,77,8],[92,14,77,14],[92,18,77,18,"Error"],[92,23,77,23],[92,24,77,24,"errorMessage"],[92,36,77,36],[92,37,77,37],[93,6,78,4],[94,4,78,5],[95,6,78,5,"key"],[95,9,78,5],[96,6,78,5,"value"],[96,11,78,5],[96,13,79,4],[96,22,79,11,"createWebSocket"],[96,37,79,26,"createWebSocket"],[96,38,79,27,"url"],[96,41,79,30],[96,43,79,32,"protocols"],[96,52,79,41],[96,54,79,43],[97,8,80,8],[97,12,80,14,"WS"],[97,14,80,16],[97,17,80,19],[97,21,80,23],[97,22,80,24,"getWebSocketConstructor"],[97,45,80,47],[97,46,80,48],[97,47,80,49],[98,8,81,8],[98,15,81,15],[98,19,81,19,"WS"],[98,21,81,21],[98,22,81,22,"url"],[98,25,81,25],[98,27,81,27,"protocols"],[98,36,81,36],[98,37,81,37],[99,6,82,4],[100,4,82,5],[101,6,82,5,"key"],[101,9,82,5],[102,6,82,5,"value"],[102,11,82,5],[102,13,83,4],[102,22,83,11,"isWebSocketSupported"],[102,42,83,31,"isWebSocketSupported"],[102,43,83,31],[102,45,83,34],[103,8,84,8],[103,12,84,12],[104,10,85,12],[104,14,85,18,"env"],[104,17,85,21],[104,20,85,24],[104,24,85,28],[104,25,85,29,"detectEnvironment"],[104,42,85,46],[104,43,85,47],[104,44,85,48],[105,10,86,12],[105,17,86,19,"env"],[105,20,86,22],[105,21,86,23,"type"],[105,25,86,27],[105,30,86,32],[105,38,86,40],[105,42,86,44,"env"],[105,45,86,47],[105,46,86,48,"type"],[105,50,86,52],[105,55,86,57],[105,59,86,61],[106,8,87,8],[106,9,87,9],[106,10,88,8],[106,17,88,15,"_a"],[106,19,88,17],[106,21,88,19],[107,10,89,12],[107,17,89,19],[107,22,89,24],[108,8,90,8],[109,6,91,4],[110,4,91,5],[111,2,91,5],[112,2,93,0,"exports"],[112,9,93,7],[112,10,93,8,"WebSocketFactory"],[112,26,93,24],[112,29,93,27,"WebSocketFactory"],[112,45,93,43],[113,2,94,0,"exports"],[113,9,94,7],[113,10,94,8,"default"],[113,17,94,15],[113,20,94,18,"WebSocketFactory"],[113,36,94,34],[114,0,94,35],[114,3]],"functionMap":{"names":["<global>","WebSocketFactory","WebSocketFactory.detectEnvironment","WebSocketFactory.getWebSocketConstructor","WebSocketFactory.createWebSocket","WebSocketFactory.isWebSocketSupported"],"mappings":"AAA;ACG;ICC;KD8D;IEC;KFU;IGC;KHG;IIC;KJQ;CDC"}},"type":"js/module"}]}